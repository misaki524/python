<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>シンプルHTML+JavaScriptテンプレート</title>
<meta name="description" content="シンプルで実用的なHTML + JavaScriptのテンプレート（モバイル対応、アクセシビリティ、モジュール分割の例付き）">

<!-- 基本スタイル（必要なら外部CSSやTailwindに差し替え可） -->
<style>
  :root{
    --bg:#0b1020; --card:#0f1724; --accent:#7dd3fc; --muted:#9ca3af; --text:#e6eef8;
    font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#071024);color:var(--text)}
  .container{max-width:980px;margin:32px auto;padding:20px}
  header{display:flex;align-items:center;justify-content:space-between;gap:12px}
  h1{font-size:20px;margin:0}
  nav a{color:var(--muted);text-decoration:none;margin-left:12px}

  .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:16px;box-shadow:0 6px 18px rgba(2,6,23,0.6)}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:16px}

  button{background:var(--accent);border:0;padding:8px 12px;border-radius:8px;color:#042033;cursor:pointer}
  input,textarea,select{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:var(--text)}

  footer{margin-top:24px;color:var(--muted);font-size:13px;text-align:center}

  /* 小さなアクセシビリティ改善 */
  :focus{outline:3px solid rgba(125,211,252,0.18);outline-offset:3px}

  @media (max-width:520px){.container{margin:12px;padding:12px}h1{font-size:18px}}
</style>
</head>
<body>
<div class="container">
  <header>
    <h1>My App <small style="color:var(--muted);font-size:12px"> - demo template</small></h1>
    <nav aria-label="Main navigation">
      <a href="#" id="nav-home">Home</a>
      <a href="#" id="nav-docs">Docs</a>
      <a href="#" id="nav-about">About</a>
    </nav>
  </header>

  <main class="card" id="main">
    <section aria-labelledby="welcome">
      <h2 id="welcome">ようこそ</h2>
      <div class="grid">
        <div class="card" id="live-clock" role="region" aria-live="polite">
          <strong>現在時刻</strong>
          <div id="time">--:--:--</div>
          <small class="muted">Local time</small>
        </div>
        <div class="card">
          <strong>サンプルフォーム</strong>
          <form id="sample-form">
            <label style="display:block;margin-top:8px">選択
              <select name="plan">
                <option value="05">05分後</option>
                <option value="10">10分後</option>
                <option value="15">15分後</option>
              </select>
            </label>
            <div style="margin-top:8px;display:flex;gap:8px">
              <button type="submit">送信</button>
              <button type="button" id="reset-btn">リセット</button>
            </div>
            <p id="form-result" style="margin-top:8px;color:var(--accent)"></p>
          </form>
        </div>
        <script>
          const form = document.getElementById("sample-form");
          const result = document.getElementById("form-result");
          const resetBtn = document.getElementById("reset-btn");
          let timerId = null;
          form.addEventListener("submit", function(e) {
            e.preventDefault();
            const minutes = parseInt(form.plan.value, 10);
            const now = new Date();
            const end = new Date(now.getTime() + minutes * 60000);
            // 退勤予定時刻を "HH:MM" 形式に整形
            const pad = n => n.toString().padStart(2, "0");
            const endTimeStr = `${pad(end.getHours())}:${pad(end.getMinutes())}`;
            if (timerId) clearInterval(timerId);
            timerId = setInterval(() => {
              const diff = end - new Date();
              if (diff <= 0) {
                clearInterval(timerId);
                result.textContent = `退勤時間になりました！（予定時刻 ${endTimeStr}）`;
              } else {
                const m = Math.floor(diff / 60000);
                const s = Math.floor((diff % 60000) / 1000);
                result.textContent = `${minutes}分後に退勤します（予定時刻 ${endTimeStr}） → 残り ${m}分${s}秒`;
              }
            }, 1000);
          });
          resetBtn.addEventListener("click", function() {
            if (timerId) clearInterval(timerId);
            result.textContent = "";
            form.reset();
          });
        </script>
  </div>
    </section>
  </main>

  <footer class="card">© Your Name — <span id="status">Ready</span></footer>
</div>

<!-- JavaScript（モジュール化しても良い） -->
<script>
  // DOMの簡単なヘルパー
  const $ = selector => document.querySelector(selector);

  // 1) ライブクロック
  function startClock(){
    const el = $('#time');
    function tick(){
      const d = new Date();
      el.textContent = d.toLocaleTimeString();
    }
    tick();
    return setInterval(tick, 1000);
  }

  // 2) フォーム処理（簡単なバリデーション）
  function initForm(){
    const form = $('#sample-form');
    const result = $('#form-result');
    form.addEventListener('submit', e => {
      e.preventDefault();
      const fd = new FormData(form);
      const name = fd.get('name').trim();
      if(!name){ result.textContent = '名前を入力してください'; return; }
      result.textContent = `こんにちは、${name} さん！`;
    });
    $('#reset-btn').addEventListener('click', () => { form.reset(); result.textContent=''; });
  }

  // 3) フェッチの例（フェイクAPIでデモ）
  async function initFetch(){
    const btn = $('#fetch-btn');
    const out = $('#fetch-result');
    btn.addEventListener('click', async () => {
      btn.disabled = true;
      out.textContent = '取得中...';
      try{
        // 実際は自分のAPIエンドポイントに差し替える
        const res = await fetch('https://httpbin.org/get');
        if(!res.ok) throw new Error(res.statusText);
        const data = await res.json();
        out.textContent = JSON.stringify(data, null, 2);
      }catch(err){
        out.textContent = 'エラー: ' + err.message;
      }finally{ btn.disabled = false; }
    });
  }

  // 初期化
  (function init(){
    startClock();
    initForm();
    initFetch();
    $('#status').textContent = 'Initialized';

    // シンプルなルーティング（ハッシュ）
    window.addEventListener('hashchange', () => { $('#status').textContent = location.hash || 'home'; });
  })();
</script>
</body>
</html>
